# docker
docker-compose down
docker compose up -d --build
docker compose up -d --build trader
docker compose up -d --force-recreate trader

docker compose logs -f
docker compose logs -f trader
docker compose logs -f ingestor
docker compose logs -f --tail=50 trader

docker compose run --rm backtester
docker compose run --rm backtester --period in_sample
docker compose run --rm backtester --period out_of_sample


# database
docker exec cqf-final-project-db-1 pg_dump -U fbcalderaro -d crypto_trading -F c > ./db-backup/latest.dump
docker exec -it cqf-final-project-db-1 pg_restore -h localhost -U fbcalderaro -d crypto_trading -v --clean /db-backups/latest.dump

# git
git clone git@github.com:fbcalderaro/cqf-final-project.git

git status
git pull

git add .
git commit -m "Comment"
git push origin main

# bash
docker exec -it cqf-final-project-app-1 bash

# data ingestion
docker exec -it cqf-final-project-app-1 python /app/trading_system/data_ingestion.py
docker exec -it cqf-final-project-app-1 python /app/trading_system/data_ingestion.py --mode=backfill
docker exec -it cqf-final-project-app-1 python /app/trading_system/data_integrity.py

# backtesting
docker exec -it cqf-final-project-app-1 python /app/trading_system/backtest.py
docker exec -it cqf-final-project-app-1 python /app/trading_system/backtest.py --period in_sample
docker exec -it cqf-final-project-app-1 python /app/trading_system/backtest.py --period out_of_sample

# trading
docker exec -it cqf-final-project-app-1 python /app/trading_system/trader.py

# dashboard
# The dashboard is now generated automatically by the trader.py engine.
# You can still run this command for a one-off manual generation.
docker exec -it cqf-final-project-app-1 python /app/trading_system/dashboard_generator.py

# utils
docker exec -it cqf-final-project-app-1 python /app/trading_system/utils/charts.py --asset BTC-USDT --start 2020-02-19 --end 2020-02-20
docker exec -it cqf-final-project-app-1 python /app/trading_system/utils/check_account.py